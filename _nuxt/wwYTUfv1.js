import{h as m}from"./ViplgOvq.js";import{G as v,H as c,r as k,I as q,J as B,B as T,f as u,g as f,j as i,D as g,F as C,K as R,t as y,_ as S,i as U}from"./SSmatq5f.js";import{u as z}from"./DF5-f0ui.js";import"./CqM7lsIx.js";function P(n,s,e){const[t={},a]=[{},s],o=v(()=>c(n)),r=v(()=>c(t.key)||"$f"+m([a,typeof o.value=="string"?o.value:"",...H(t)]));if(!t.baseURL&&typeof o.value=="string"&&o.value[0]==="/"&&o.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:h,default:l,transform:x,pick:D,watch:_,immediate:F,getCachedData:O,deep:A,dedupe:E,...L}=t,w=k({...q,...L,cache:typeof t.cache=="boolean"?void 0:t.cache}),$={server:d,lazy:h,default:l,transform:x,pick:D,immediate:F,getCachedData:O,deep:A,dedupe:E,watch:_===!1?[]:[..._||[],w]};let p;return z(_===!1?r.value:r,()=>{p?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),p=typeof AbortController<"u"?new AbortController:{};const j=c(t.timeout);let b;return j&&(b=setTimeout(()=>p.abort(new DOMException("Request aborted due to timeout.","AbortError")),j),p.signal.onabort=()=>clearTimeout(b)),(t.$fetch||globalThis.$fetch)(o.value,{signal:p.signal,...w}).finally(()=>{clearTimeout(b)})},$)}function H(n){const s=[c(n.method)?.toUpperCase()||"GET",c(n.baseURL)];for(const e of[n.params||n.query]){const t=c(e);if(!t)continue;const a={};for(const[o,r]of Object.entries(t))a[c(o)]=c(r);s.push(a)}if(n.body){const e=c(n.body);if(!e)s.push(m(e));else if(e instanceof ArrayBuffer)s.push(m(Object.fromEntries([...new Uint8Array(e).entries()].map(([t,a])=>[t,a.toString()]))));else if(e instanceof FormData){const t={};for(const a of e.entries()){const[o,r]=a;t[o]=r instanceof File?r.name:r}s.push(m(t))}else if(B(e))s.push(m(k(e)));else try{s.push(m(e))}catch{console.warn("[useFetch] Failed to hash body",e)}}return s}const V={key:0},G={key:1},I={key:2},K={class:"grid grid-cols-1 gap-4"},M=["href"],N={class:"flex items-center justify-between text-sm"},J={class:"font-semibold"},Q={class:"text-sm"},W={__name:"ProjectList",async setup(n){let s,e;const{error:t,pending:a,data:o}=([s,e]=T(()=>P("https://api.github.com/users/piotr-jura-udemy/repos","$5nFHHeyBcl")),s=await s,e(),s),r=v(()=>o.value.filter(d=>d.description).sort((d,h)=>h.stargazers_count-d.stargazers_count));return(d,h)=>(f(),u("div",null,[h[0]||(h[0]=i("p",{class:"mb-10"},"take a look at my github projects",-1)),g(a)?(f(),u("section",V,"Loading...")):g(t)?(f(),u("section",G,"Something went wrong... Try again!")):(f(),u("section",I,[i("ul",K,[(f(!0),u(C,null,R(g(r),l=>(f(),u("li",{key:l.id,class:"border border-gray-200 rounded-sm p-4 hover:bg-gray-100 font-mono"},[i("a",{href:l.html_url,target:"_blank"},[i("div",N,[i("div",J,y(l.name),1),i("div",null,y(l.stargazers_count)+" â˜…",1)]),i("p",Q,y(l.description),1)],8,M)]))),128))])]))]))}},X={};function Y(n,s){const e=W;return f(),u("div",null,[s[0]||(s[0]=i("h2",{class:"text-2xl font-semibold mb-10"},"Projects",-1)),U(e)])}const ae=S(X,[["render",Y]]);export{ae as default};
